{"id":"gunshi-mcp-0gd","title":"Implement tool execution handler for gunshi commands","description":"Create MCP tool call handler that parses arguments, executes corresponding gunshi command with proper context, and returns results in MCP format","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T05:53:01.533081267-05:00","created_by":"rektide","updated_at":"2026-01-04T06:06:47.488517112-05:00","closed_at":"2026-01-04T06:06:47.488517112-05:00","close_reason":"Completed"}
{"id":"gunshi-mcp-1df","title":"Generate MCP tool metadata from commands","description":"Iterate through all registered commands and create MCP tool metadata (name, description, inputSchema)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:15.338628021-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:15.338628021-05:00"}
{"id":"gunshi-mcp-1ev","title":"Command Discovery and Registration","description":"Discover all gunshi commands and register them as MCP tools with proper schema mapping and argument handling.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-04T06:03:33.304384096-05:00","created_by":"rektide","updated_at":"2026-01-04T06:03:33.304384096-05:00","dependencies":[{"issue_id":"gunshi-mcp-1ev","depends_on_id":"gunshi-mcp-4t6","type":"blocks","created_at":"2026-01-04T06:04:55.55614757-05:00","created_by":"rektide"}]}
{"id":"gunshi-mcp-1li","title":"Implement tool call handler","description":"Create tool invocation handler that receives MCP tool calls and extracts command name and arguments","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:29.950626436-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:29.950626436-05:00"}
{"id":"gunshi-mcp-23a","title":"Parse markdown prompt files","description":"Parse .md prompt files to extract name, description, and content for MCP prompt registration","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:21.370966644-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:21.370966644-05:00"}
{"id":"gunshi-mcp-295","title":"Write plugin API documentation","description":"Document API for plugin customization including hooks and configuration options","status":"open","priority":2,"issue_type":"chore","created_at":"2026-01-04T06:04:42.258564338-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:42.258564338-05:00"}
{"id":"gunshi-mcp-29l","title":"Implement server singleton/instance management","description":"Create singleton pattern or factory for MCP server to ensure single instance per CLI invocation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:04.858032942-05:00","created_by":"rektide","updated_at":"2026-01-04T07:57:27.120964579-05:00","closed_at":"2026-01-04T07:57:27.120964579-05:00","close_reason":"Server singleton already implemented - server instance created once per plugin initialization with isShuttingDown flag"}
{"id":"gunshi-mcp-47k","title":"OpenCode plugin support","description":"We want tools written in gunshi-mcp to also be able to be used easily as opencode plugins. The tools defined using the GunshiTool interface should be automatically exposed and available to the opencode system without requiring additional boilerplate.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-05T16:26:00.842082913-05:00","updated_at":"2026-02-05T16:26:00.842082913-05:00"}
{"id":"gunshi-mcp-4t6","title":"MCP Server Integration","description":"Integrate the Model Context Protocol server including initialization, transport setup, and server configuration.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-04T06:03:33.305455538-05:00","created_by":"rektide","updated_at":"2026-01-04T06:03:33.305455538-05:00","dependencies":[{"issue_id":"gunshi-mcp-4t6","depends_on_id":"gunshi-mcp-ikw","type":"blocks","created_at":"2026-01-04T06:04:55.451007092-05:00","created_by":"rektide"}]}
{"id":"gunshi-mcp-4tb","title":"Document prompt loading system","description":"Document prompt system including file format and how to create custom prompts","status":"open","priority":2,"issue_type":"chore","created_at":"2026-01-04T06:04:42.253873747-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:42.253873747-05:00"}
{"id":"gunshi-mcp-53i","title":"Auto-detect stdio mode in logger","description":"Auto-detect stdio mode when mcp command runs and automatically configure logger to use stderr instead of requiring explicit --log-stdio flag. This makes the logger plugin automatically detect when it's in MCP stdio mode and avoid contaminating stdout.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-22T17:36:49.003779029-05:00","updated_at":"2026-01-22T17:36:49.003779029-05:00"}
{"id":"gunshi-mcp-56l","title":"Create plugin factory function","description":"Create main plugin file using gunshi's plugin() function with proper plugin ID and metadata","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:03:56.399714655-05:00","created_by":"rektide","updated_at":"2026-01-04T07:18:09.008847315-05:00","closed_at":"2026-01-04T07:18:09.008847315-05:00","close_reason":"Completed plugin factory function with options parameter, proper exports, JSDoc documentation, and configuration handling"}
{"id":"gunshi-mcp-5g4","title":"Initialize MCP server instance","description":"Create MCP server instance using McpServer class from @modelcontextprotocol/sdk with name and version","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:04.853262915-05:00","created_by":"rektide","updated_at":"2026-01-04T07:23:30.894960354-05:00","closed_at":"2026-01-04T07:23:30.894960354-05:00","close_reason":"Initialized McpServer instance with name, version, and capabilities"}
{"id":"gunshi-mcp-5l2","title":"Load prompts from prompts/ folder as MCP prompts","description":"Detect prompts/ folder at project root using package-directory, read .md prompt files, and register them as MCP prompts using server.registerPrompt()","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T05:53:01.53237422-05:00","created_by":"rektide","updated_at":"2026-01-04T06:06:47.484393057-05:00","closed_at":"2026-01-04T06:06:47.484393057-05:00","close_reason":"Completed","dependencies":[{"issue_id":"gunshi-mcp-5l2","depends_on_id":"gunshi-mcp-alo","type":"blocks","created_at":"2026-01-04T05:53:07.027362769-05:00","created_by":"rektide"}]}
{"id":"gunshi-mcp-5n1","title":"Initialize package.json configuration","description":"Create package.json with proper configuration including name, version, type: module, scripts, and dependencies list","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:03:44.101596953-05:00","created_by":"rektide","updated_at":"2026-01-04T06:15:46.025269906-05:00","closed_at":"2026-01-04T06:15:46.025269906-05:00","close_reason":"Completed"}
{"id":"gunshi-mcp-5vs","title":"Document installation process","description":"Document installation steps for npm/pnpm including peer dependencies","status":"open","priority":2,"issue_type":"chore","created_at":"2026-01-04T06:04:42.253927779-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:42.253927779-05:00"}
{"id":"gunshi-mcp-5we","title":"Configure logger for MCP stdio mode","description":"When MCP server runs in stdio mode, the logger needs to avoid outputting to stdout since stdio is used for MCP protocol communication. Logger should use stderr instead or become quiet in stdio mode.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T08:04:01.470851765-05:00","updated_at":"2026-01-04T08:17:50.33640697-05:00","closed_at":"2026-01-04T08:17:50.33640697-05:00","close_reason":"Implemented stdio mode support in logger plugin via --log-stdio flag, and integrated logger into MCP plugin via options parameter","dependencies":[{"issue_id":"gunshi-mcp-5we","depends_on_id":"gunshi-mcp-8u5","type":"parent-child","created_at":"2026-01-04T08:04:08.803522789-05:00","created_by":"daemon"}]}
{"id":"gunshi-mcp-5ws","title":"Capture command output streams","description":"Capture and return stdout/stderr from command execution as MCP text content","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:29.955444203-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:29.955444203-05:00"}
{"id":"gunshi-mcp-60m","title":"Documentation and Examples","description":"Write comprehensive documentation including README, usage examples, API docs, and migration guides.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-04T06:03:33.307582872-05:00","created_by":"rektide","updated_at":"2026-01-04T06:03:33.307582872-05:00","dependencies":[{"issue_id":"gunshi-mcp-60m","depends_on_id":"gunshi-mcp-koi","type":"blocks","created_at":"2026-01-04T06:04:55.552992439-05:00","created_by":"rektide"}]}
{"id":"gunshi-mcp-68d","title":"Map gunshi args to Zod schemas","description":"Create utility to map gunshi argument schemas to Zod schemas for MCP tool input validation","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:15.335988409-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:15.335988409-05:00"}
{"id":"gunshi-mcp-6bo","title":"Add bind address configuration option","description":"Add ability to specify bind address for MCP server. Currently the server only supports port configuration but not the bind address (e.g., 127.0.0.1, 0.0.0.0).\n\nThis should be added to:\n- McpPluginOptions interface\n- Server initialization logic\n- Extension API for startServer()","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-04T08:01:25.874689867-05:00","updated_at":"2026-01-04T08:01:25.874689867-05:00"}
{"id":"gunshi-mcp-6eu","title":"Define plugin configuration types","description":"Define TypeScript interfaces for plugin configuration including MCP server options and paths","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:03:56.404267983-05:00","created_by":"rektide","updated_at":"2026-01-04T07:19:05.075545264-05:00","closed_at":"2026-01-04T07:19:05.075545264-05:00","close_reason":"Plugin configuration types already defined in types.ts (McpPluginOptions, McpExtension, CommandMetadata, PromptMetadata, McpServerConfig)"}
{"id":"gunshi-mcp-6gg","title":"Test command registration logic","description":"Write tests for command-to-tool mapping including argument schema conversion","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:35.642787026-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:35.642787026-05:00"}
{"id":"gunshi-mcp-6wm","title":"Install development tooling","description":"Install development dependencies: vitest, tsdown, @typescript/native-preview, oxfmt, oxlint","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:03:44.104019028-05:00","created_by":"rektide","updated_at":"2026-01-04T06:36:12.909273161-05:00","closed_at":"2026-01-04T06:36:12.909273161-05:00","close_reason":"Completed"}
{"id":"gunshi-mcp-6ya","title":"Test prompt loading system","description":"Write tests for prompt file parsing and registration with edge cases","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:35.6449424-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:35.6449424-05:00"}
{"id":"gunshi-mcp-78g","title":"Write integration tests for MCP server","description":"Create integration tests that test MCP server startup, tool registration, and prompt loading","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:35.64418022-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:35.64418022-05:00"}
{"id":"gunshi-mcp-7ar","title":"Create Gunshi MCP Plugin","description":"Create a gunshi plugin that adds an `mcp` command to start a Model Context Protocol SDK server. The server should expose all registered gunshi commands as MCP tools and provide MCP prompts from a `prompts/` folder at the project root.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-04T05:51:52.745520255-05:00","created_by":"rektide","updated_at":"2026-01-04T06:06:47.481948364-05:00","closed_at":"2026-01-04T06:06:47.481948364-05:00","close_reason":"Completed"}
{"id":"gunshi-mcp-7n4","title":"Implement prompt reload capability","description":"Support dynamic prompt reloading when prompts/ folder changes","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:21.374052435-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:21.374052435-05:00"}
{"id":"gunshi-mcp-8rf","title":"Create plugin entry point","description":"Export plugin with proper module exports for use in gunshi applications","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:03:56.402211973-05:00","created_by":"rektide","updated_at":"2026-01-04T07:22:38.60565759-05:00","closed_at":"2026-01-04T07:22:38.60565759-05:00","close_reason":"Entry points already properly configured with src/index.ts and gunshi-mcp.ts re-exports"}
{"id":"gunshi-mcp-8u5","title":"Logger Plugin Implementation","description":"Epic for implementing a logger plugin that provides structured logging functionality to the application","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-04T08:03:42.954503105-05:00","updated_at":"2026-01-27T18:36:39.070688721-05:00","closed_at":"2026-01-27T18:36:39.070688721-05:00","close_reason":"Both child tasks (gunshi-mcp-5we, gunshi-mcp-x9p) are closed. Logger plugin is implemented in src/plugins/logger.ts"}
{"id":"gunshi-mcp-a3d","title":"Document MCP tool interface","description":"Document available MCP tools and how they map to gunshi commands","status":"open","priority":2,"issue_type":"chore","created_at":"2026-01-04T06:04:42.255190378-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:42.255190378-05:00"}
{"id":"gunshi-mcp-acc","title":"Test with real MCP client","description":"Create end-to-end test using MCP client to invoke tools and verify responses","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:35.646422907-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:35.646422907-05:00"}
{"id":"gunshi-mcp-alo","title":"Create core gunshi plugin structure","description":"Create basic gunshi plugin structure using plugin() function, add mcp command via ctx.addCommand(), and integrate package-directory for finding project root","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T05:53:01.533344321-05:00","created_by":"rektide","updated_at":"2026-01-04T06:06:47.486399412-05:00","closed_at":"2026-01-04T06:06:47.486399412-05:00","close_reason":"Completed","dependencies":[{"issue_id":"gunshi-mcp-alo","depends_on_id":"gunshi-mcp-t5d","type":"blocks","created_at":"2026-01-04T05:53:06.92455709-05:00","created_by":"rektide"}]}
{"id":"gunshi-mcp-b6a","title":"Add usage examples","description":"Provide usage examples showing how to add plugin to gunshi CLI and start MCP server","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-04T06:04:42.255840583-05:00","created_by":"rektide","updated_at":"2026-01-27T18:36:39.689260438-05:00","closed_at":"2026-01-27T18:36:39.689260438-05:00","close_reason":"Usage examples provided in README.md and examples/basic-usage.ts"}
{"id":"gunshi-mcp-bdb","title":"Add request ID propagation for logging","description":"Add support for propagating request/correlation IDs through the logger. This allows tracing log entries across the entire MCP request lifecycle, making it easier to debug issues by following a single request from start to finish.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-22T17:36:50.609688216-05:00","updated_at":"2026-01-22T17:36:50.609688216-05:00"}
{"id":"gunshi-mcp-bj3","title":"Support dynamic command updates","description":"Implement tools/list_changed notification when commands are dynamically added/modified","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:15.340033536-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:15.340033536-05:00"}
{"id":"gunshi-mcp-builder","title":"Builder Pattern for Plugin Composition","description":"Create a builder that provides a fluent API for assembling gunshi-mcp plugins.\n\nThe builder is syntactic sugar over direct plugin composition. It guides configuration with type safety and handles plugin ordering.","design":"File: src/builder.ts\n\nAPI:\ngunshiMcp()\n  .withLogging(opts?)\n  .withDiscovery(opts?)\n  .withRegistry(opts?)\n  .withServer(opts?)\n  .withCli(opts?)\n  .withOpenCode(opts?)\n  .build() → Plugin[]\n\nEach .withX() method:\n- Stores configuration\n- Returns builder for chaining\n- Does NOT create plugin yet\n\n.build():\n- Creates plugins in dependency order\n- Returns array for cli() plugins option\n\nAuto-inclusion:\n- Schema plugin auto-included when CLI added\n- Order handled automatically","acceptance_criteria":"- [ ] gunshiMcp() factory function\n- [ ] withLogging(), withDiscovery(), withRegistry(), withServer(), withCli(), withOpenCode() methods\n- [ ] build() returns Plugin[]\n- [ ] Type-safe options for each method\n- [ ] Schema plugin auto-included when needed\n- [ ] Equivalent to direct plugin factory composition\n- [ ] Unit tests for builder\n- [ ] Export from src/index.ts","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T17:48:16.327409703-05:00","updated_at":"2026-02-06T17:48:16.327409703-05:00","labels":["api","builder"],"dependencies":[{"issue_id":"gunshi-mcp-builder","depends_on_id":"gunshi-mcp-schema-plugin","type":"blocks","created_at":"2026-02-06T17:48:16.329129125-05:00","created_by":"daemon"},{"issue_id":"gunshi-mcp-builder","depends_on_id":"gunshi-mcp-registry-plugin","type":"blocks","created_at":"2026-02-06T17:48:16.330682244-05:00","created_by":"daemon"},{"issue_id":"gunshi-mcp-builder","depends_on_id":"gunshi-mcp-server-plugin","type":"blocks","created_at":"2026-02-06T17:48:16.332156483-05:00","created_by":"daemon"},{"issue_id":"gunshi-mcp-builder","depends_on_id":"gunshi-mcp-cli-plugin","type":"blocks","created_at":"2026-02-06T17:48:16.333610041-05:00","created_by":"daemon"},{"issue_id":"gunshi-mcp-builder","depends_on_id":"gunshi-mcp-discovery-plugin","type":"blocks","created_at":"2026-02-06T17:48:16.33507373-05:00","created_by":"daemon"},{"issue_id":"gunshi-mcp-builder","depends_on_id":"gunshi-mcp-opencode-plugin","type":"blocks","created_at":"2026-02-06T17:48:16.336532778-05:00","created_by":"daemon"},{"issue_id":"gunshi-mcp-builder","depends_on_id":"gunshi-mcp-plugin-arch","type":"parent-child","created_at":"2026-02-06T17:48:39.273257994-05:00","created_by":"daemon"}]}
{"id":"gunshi-mcp-c5h","title":"Write unit tests for core plugin","description":"Write unit tests for plugin factory, configuration, and helper functions","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:35.645676658-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:35.645676658-05:00"}
{"id":"gunshi-mcp-cleanup-legacy","title":"Clean Up Legacy Plugin Structure","description":"Remove legacy plugin files after new architecture is complete.\n\nCurrent confusing state:\n- plugin.ts exports createMcpPlugin (default export)\n- mcp-plugin.ts exports createMcpPlugin (named export)\n- Both have McpExtension interfaces\n\nClean up:\n- Remove src/plugin.ts\n- Remove src/mcp-plugin.ts\n- Update examples/basic-usage.ts to use new plugins\n- Update src/index.ts exports","acceptance_criteria":"- [ ] src/plugin.ts removed\n- [ ] src/mcp-plugin.ts removed\n- [ ] examples/basic-usage.ts updated to use builder or new plugins\n- [ ] src/index.ts exports only new plugin architecture\n- [ ] No duplicate McpExtension interfaces\n- [ ] All tests passing","status":"open","priority":2,"issue_type":"chore","created_at":"2026-02-06T17:48:22.962779966-05:00","updated_at":"2026-02-06T17:48:22.962779966-05:00","labels":["cleanup","refactor"],"dependencies":[{"issue_id":"gunshi-mcp-cleanup-legacy","depends_on_id":"gunshi-mcp-builder","type":"blocks","created_at":"2026-02-06T17:48:22.964421396-05:00","created_by":"daemon"},{"issue_id":"gunshi-mcp-cleanup-legacy","depends_on_id":"gunshi-mcp-plugin-arch","type":"parent-child","created_at":"2026-02-06T17:48:39.293974152-05:00","created_by":"daemon"}]}
{"id":"gunshi-mcp-cli-plugin","title":"CLI Plugin - Generate Gunshi Commands from Tools","description":"Create a CLI plugin that generates gunshi commands from GunshiTool definitions.\n\nThis plugin depends on:\n- Schema plugin for Zod→GunshiArg conversion\n- Registry plugin for tool list\n\nEach tool becomes a CLI command with flags derived from its Zod schema.","design":"Directory structure:\nsrc/cli/\n├── schema/              # CLI-specific schema transforms\n│   ├── to-gunshi-arg.ts # ZodFieldInfo → GunshiArg\n│   ├── arrays.ts        # Array handling strategies\n│   ├── overrides.ts     # Apply user overrides\n│   └── index.ts\n├── values/\n│   ├── reconstruct.ts   # Flat CLI values → nested object\n│   ├── parse.ts         # Custom parsers\n│   └── index.ts\n├── commands.ts          # Generate commands from tools\n├── plugin.ts            # createCliPlugin\n└── index.ts\n\nExtension interface:\n- commands → readonly string[]\n- refresh() → void\n\nOptions:\n- prefix?: string - command name prefix\n- separator?: string - nested arg separator (default \"-\")\n- formatFlag?: boolean - add --format flag","acceptance_criteria":"- [ ] Existing cli-args/ gunshi-specific code moved to cli/schema/\n- [ ] Existing reconstruct logic moved to cli/values/\n- [ ] Command generation using ctx.addCommand()\n- [ ] CliExtension interface defined\n- [ ] createCliPlugin factory function\n- [ ] Depends on schema plugin and registry plugin\n- [ ] Unit tests for command generation\n- [ ] Plugin exports from src/index.ts","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T17:47:45.533945388-05:00","updated_at":"2026-02-06T17:47:45.533945388-05:00","labels":["cli","plugin"],"dependencies":[{"issue_id":"gunshi-mcp-cli-plugin","depends_on_id":"gunshi-mcp-schema-plugin","type":"blocks","created_at":"2026-02-06T17:47:45.535705639-05:00","created_by":"daemon"},{"issue_id":"gunshi-mcp-cli-plugin","depends_on_id":"gunshi-mcp-registry-plugin","type":"blocks","created_at":"2026-02-06T17:47:45.537224658-05:00","created_by":"daemon"},{"issue_id":"gunshi-mcp-cli-plugin","depends_on_id":"gunshi-mcp-plugin-arch","type":"parent-child","created_at":"2026-02-06T17:48:39.225542527-05:00","created_by":"daemon"}]}
{"id":"gunshi-mcp-ctb","title":"Testing and Validation","description":"Create comprehensive test suite including unit tests, integration tests, and MCP client validation.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-04T06:03:33.306932566-05:00","created_by":"rektide","updated_at":"2026-01-04T06:03:33.306932566-05:00","dependencies":[{"issue_id":"gunshi-mcp-ctb","depends_on_id":"gunshi-mcp-koi","type":"blocks","created_at":"2026-01-04T06:04:55.551551823-05:00","created_by":"rektide"}]}
{"id":"gunshi-mcp-discovery-plugin","title":"Discovery Plugin - Filesystem Tool Discovery","description":"Create a discovery plugin that finds and loads GunshiTool definitions from the filesystem using async generators.\n\nTwo composable strategies:\n- RootDiscovery: yields directories to search\n- ToolDiscovery: yields tools found in each directory\n\nSee doc/PLAN-tool-discovery.md for full design.","design":"Directory structure:\nsrc/discovery/\n├── roots.ts       # Root discovery strategies (async generators)\n├── tools.ts       # Tool discovery strategies (async generators)\n├── discover.ts    # discoverTools() - general-purpose function\n├── types.ts       # RootDiscovery, ToolDiscovery types\n├── plugin.ts      # createDiscoveryPlugin\n└── index.ts\n\nExtension interface:\n- tools → readonly GunshiTool[]\n- rediscover() → Promise\u003cGunshiTool[]\u003e\n- hasTool(name) → boolean\n- getTool(name) → GunshiTool | undefined\n\nDefault patterns:\n- tools/**/*.{js,ts}\n- src/tools/**/*.{js,ts}\n\nCLI commands added: \"tools\" - list discovered tools","acceptance_criteria":"- [x] RootDiscovery and ToolDiscovery types defined\n- [x] defaultRootDiscovery using package-directory\n- [x] globToolDiscovery using tinyglobby\n- [x] explicitRoots() and chainRoots() utilities\n- [x] isGunshiTool type guard\n- [x] DiscoveryExtension interface defined\n- [x] createDiscoveryPlugin factory function\n- [x] \"tools\" command lists discovered tools\n- [x] Unit tests for discovery strategies\n- [x] Plugin exports from src/index.ts","notes":"Implementation complete.\n\nCreated files:\n- src/discovery/types.ts - RootDiscovery, ToolDiscovery, DiscoveryOptions types\n- src/discovery/roots.ts - defaultRootDiscovery, explicitRoots, chainRoots\n- src/discovery/tools.ts - globToolDiscovery, extractTools, isGunshiTool type guard\n- src/discovery/discover.ts - discoverTools, discoverToolsStream with re-exports\n- src/discovery/plugin.ts - createDiscoveryPlugin factory with DiscoveryExtension\n\nFeatures implemented:\n- Async generator-based root and tool discovery\n- Default patterns: tools/**/*.{js,ts}, src/tools/**/*.{js,ts}\n- Default ignore: test files, _prefix files, node_modules\n- CLI command 'tools' to list discovered tools\n- Extension with tools, rediscover(), hasTool(), getTool()\n- Unit tests for isGunshiTool and extractTools (18 tests passing)\n- All exports available from gunshi-mcp.ts\n- tinyglobby dependency added\n\nAll acceptance criteria met.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T17:47:57.658571334-05:00","updated_at":"2026-02-07T03:49:43.980646364-05:00","closed_at":"2026-02-07T03:49:43.980646364-05:00","close_reason":"Implementation complete. Created src/discovery/ with async generator-based discovery. 18 tests passing, all acceptance criteria met.","labels":["discovery","plugin"]}
{"id":"gunshi-mcp-dk9","title":"Implement project root detection","description":"Integrate package-directory to detect project root via package.json for locating prompts/ folder","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:03:56.400746855-05:00","created_by":"rektide","updated_at":"2026-01-04T07:22:32.325741782-05:00","closed_at":"2026-01-04T07:22:32.325741782-05:00","close_reason":"Integrated package-directory to detect project root for prompts folder location"}
{"id":"gunshi-mcp-docs-update","title":"Update Documentation for New Architecture","description":"Update README and documentation to reflect the new composable plugin architecture.\n\nCover:\n- Vision and core concepts\n- Plugin inventory with descriptions\n- Builder usage examples\n- Direct plugin composition examples\n- Usage patterns (MCP only, CLI only, full stack)\n- Library usage guide for tool authors","acceptance_criteria":"- [ ] README.md rewritten with new architecture\n- [ ] Plugin descriptions and extension interfaces documented\n- [ ] Builder examples\n- [ ] Direct plugin composition examples\n- [ ] Usage patterns section\n- [ ] Migration notes for existing users\n- [ ] doc/discovery/*.md moved to doc/ or archived","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T17:48:30.261005475-05:00","updated_at":"2026-02-06T17:48:30.261005475-05:00","labels":["documentation"],"dependencies":[{"issue_id":"gunshi-mcp-docs-update","depends_on_id":"gunshi-mcp-builder","type":"blocks","created_at":"2026-02-06T17:48:30.262555625-05:00","created_by":"daemon"},{"issue_id":"gunshi-mcp-docs-update","depends_on_id":"gunshi-mcp-cleanup-legacy","type":"blocks","created_at":"2026-02-06T17:48:30.264303577-05:00","created_by":"daemon"},{"issue_id":"gunshi-mcp-docs-update","depends_on_id":"gunshi-mcp-plugin-arch","type":"parent-child","created_at":"2026-02-06T17:48:39.304679031-05:00","created_by":"daemon"}]}
{"id":"gunshi-mcp-eho","title":"Register commands as MCP tools","description":"Register each gunshi command as MCP tool using server.registerTool() with proper handlers","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:15.339321529-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:15.339321529-05:00"}
{"id":"gunshi-mcp-ere","title":"Create main README","description":"Write comprehensive README with project description, features, and getting started guide","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-04T06:04:42.25161625-05:00","created_by":"rektide","updated_at":"2026-01-04T07:06:31.845436415-05:00","closed_at":"2026-01-04T07:06:31.845436415-05:00","close_reason":"Completed"}
{"id":"gunshi-mcp-fvt","title":"Auto-enable --log-stdio when mcp command runs","description":"Auto-enable --log-stdio when mcp command runs, so users don't need to pass it manually. When the 'mcp' command is detected, the logging plugin should automatically route logs to stderr.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-22T17:36:49.692453687-05:00","updated_at":"2026-01-22T17:36:49.692453687-05:00"}
{"id":"gunshi-mcp-gch","title":"Access gunshi command registry","description":"Research and implement access to gunshi's command registry through ctx.env or plugin context","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:15.335969778-05:00","created_by":"rektide","updated_at":"2026-01-04T07:58:26.969095499-05:00","closed_at":"2026-01-04T07:58:26.969095499-05:00","close_reason":"Implemented access to gunshi command registry via ctx.subCommands and stored in pluginContext"}
{"id":"gunshi-mcp-ghh","title":"Set up directory structure","description":"Create project directory structure: src/, tests/, prompts/ (example), and necessary config files","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:03:44.103188396-05:00","created_by":"rektide","updated_at":"2026-01-04T06:34:03.546488936-05:00","closed_at":"2026-01-04T06:34:03.546488936-05:00","close_reason":"Completed"}
{"id":"gunshi-mcp-h4v","title":"Add comprehensive documentation and examples","description":"Write comprehensive README with installation instructions, usage examples, and documentation for MCP server integration","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-04T05:53:01.534799626-05:00","created_by":"rektide","updated_at":"2026-01-04T06:06:47.487575757-05:00","closed_at":"2026-01-04T06:06:47.487575757-05:00","close_reason":"Completed","dependencies":[{"issue_id":"gunshi-mcp-h4v","depends_on_id":"gunshi-mcp-0gd","type":"blocks","created_at":"2026-01-04T05:53:06.928579687-05:00","created_by":"rektide"}]}
{"id":"gunshi-mcp-hn3","title":"Handle server lifecycle and shutdown","description":"Implement graceful server shutdown handling including cleanup of resources and connections","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:04.857270042-05:00","created_by":"rektide","updated_at":"2026-01-04T07:57:22.251902453-05:00","closed_at":"2026-01-04T07:57:22.251902453-05:00","close_reason":"Implemented graceful server shutdown with SIGTERM and SIGINT signal handlers"}
{"id":"gunshi-mcp-i18","title":"Handle command execution errors","description":"Implement error handling for failed command executions with proper MCP error responses","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:29.954144182-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:29.954144182-05:00"}
{"id":"gunshi-mcp-ikw","title":"Core Plugin Infrastructure","description":"Build the core gunshi plugin infrastructure including plugin factory, command registration, and project root detection capabilities.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-04T06:03:33.300975711-05:00","created_by":"rektide","updated_at":"2026-01-04T06:03:33.300975711-05:00","dependencies":[{"issue_id":"gunshi-mcp-ikw","depends_on_id":"gunshi-mcp-ugh","type":"blocks","created_at":"2026-01-04T06:04:55.548830618-05:00","created_by":"rektide"}]}
{"id":"gunshi-mcp-jdf","title":"Create example implementation","description":"Add example gunshi CLI with the plugin configured and example prompts/ folder","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-04T06:04:42.255596474-05:00","created_by":"rektide","updated_at":"2026-01-27T18:36:39.378295633-05:00","closed_at":"2026-01-27T18:36:39.378295633-05:00","close_reason":"Example implementation exists at examples/basic-usage.ts"}
{"id":"gunshi-mcp-jju","title":"Map tool arguments to command args","description":"Translate MCP tool arguments (from Zod schema) to gunshi command argument format","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:29.95177501-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:29.95177501-05:00"}
{"id":"gunshi-mcp-k06","title":"Install runtime dependencies","description":"Install core dependencies: gunshi, @modelcontextprotocol/sdk, package-directory, zod, and typescript","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:03:44.103406174-05:00","created_by":"rektide","updated_at":"2026-01-04T06:35:20.709965441-05:00","closed_at":"2026-01-04T06:35:20.709965441-05:00","close_reason":"Completed"}
{"id":"gunshi-mcp-koi","title":"Tool Execution Engine","description":"Build the execution engine that handles MCP tool calls, executes gunshi commands, and transforms outputs to MCP format.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-04T06:03:33.306940576-05:00","created_by":"rektide","updated_at":"2026-01-04T06:03:33.306940576-05:00","dependencies":[{"issue_id":"gunshi-mcp-koi","depends_on_id":"gunshi-mcp-1ev","type":"blocks","created_at":"2026-01-04T06:05:13.338857187-05:00","created_by":"rektide"}]}
{"id":"gunshi-mcp-muv","title":"Set up stdio transport","description":"Configure StdioServerTransport for stdio-based communication between MCP client and server","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:04.854845717-05:00","created_by":"rektide","updated_at":"2026-01-04T07:56:37.503541418-05:00","closed_at":"2026-01-04T07:56:37.503541418-05:00","close_reason":"Implemented StdioServerTransport for stdio-based communication between MCP client and server"}
{"id":"gunshi-mcp-o83","title":"Transform command output to MCP format","description":"Transform command execution output (stdout, return values) to MCP tool result format with content and optional structuredContent","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:29.953650133-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:29.953650133-05:00"}
{"id":"gunshi-mcp-odv","title":"Configure test framework","description":"Set up Vitest configuration and test directory structure for unit and integration tests","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:35.644412539-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:35.644412539-05:00"}
{"id":"gunshi-mcp-opencode-plugin","title":"OpenCode Plugin - OpenCode Integration","description":"Create an OpenCode plugin that exposes GunshiTools as opencode custom tools.\n\nRelated: gunshi-mcp-47k\n\nOpen question: Need reliable way to detect opencode environment (env var, process inspection, or opencode-provided API). Not solving detection now - note as required capability from opencode.","design":"Directory structure:\nsrc/opencode/\n├── detection.ts   # Environment detection (TBD)\n├── exposure.ts    # Tool exposure to opencode\n├── plugin.ts      # createOpenCodePlugin\n└── index.ts\n\nExtension interface:\n- isOpenCodeEnvironment → boolean\n- exposedTools → readonly string[]\n- expose(tool) → void\n\nOptions:\n- include?: string[] - only expose matching tools\n- exclude?: string[] - exclude matching tools\n- autoExpose?: boolean - auto-expose registry tools","acceptance_criteria":"- [ ] OpenCodeExtension interface defined\n- [ ] createOpenCodePlugin factory function\n- [ ] Depends on registry plugin\n- [ ] Environment detection placeholder (returns false until opencode provides detection mechanism)\n- [ ] Tool exposure logic (when in opencode environment)\n- [ ] Include/exclude filtering\n- [ ] Plugin exports from src/index.ts","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T17:48:06.526378567-05:00","updated_at":"2026-02-06T17:48:06.526378567-05:00","labels":["opencode","plugin"],"dependencies":[{"issue_id":"gunshi-mcp-opencode-plugin","depends_on_id":"gunshi-mcp-registry-plugin","type":"blocks","created_at":"2026-02-06T17:48:06.528117029-05:00","created_by":"daemon"},{"issue_id":"gunshi-mcp-opencode-plugin","depends_on_id":"gunshi-mcp-47k","type":"blocks","created_at":"2026-02-06T17:48:06.530486219-05:00","created_by":"daemon"},{"issue_id":"gunshi-mcp-opencode-plugin","depends_on_id":"gunshi-mcp-plugin-arch","type":"parent-child","created_at":"2026-02-06T17:48:39.251314711-05:00","created_by":"daemon"}]}
{"id":"gunshi-mcp-p5x","title":"Handle prompt parsing errors","description":"Add error handling for invalid prompt files and provide helpful error messages","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:21.372506665-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:21.372506665-05:00"}
{"id":"gunshi-mcp-plugin-arch","title":"Composable Plugin Architecture","description":"Refactor gunshi-mcp into composable plugins following gunshi's plugin architecture. Each plugin has a single responsibility, exposes a typed extension, and can be used independently or combined.\n\nVision: Define a tool once with defineTool(), expose it everywhere - MCP server, CLI commands, OpenCode - via composable gunshi plugins.\n\nKey deliverables:\n- Schema plugin for shared Zod analysis infrastructure\n- Registry plugin for tool collection management\n- Server plugin for MCP server lifecycle\n- CLI plugin for gunshi command generation\n- Discovery plugin for filesystem tool discovery\n- OpenCode plugin for opencode integration\n- Builder pattern for easy plugin composition\n\nSee doc/discovery/library.opus.md and doc/discovery/cli-structure.md for full design.","design":"Each plugin lives in its own directory with:\n- General-purpose implementation (no gunshi dependency)\n- Plugin wrapper that composes into gunshi's plugin system\n\nPlugin inventory:\n1. schema - Zod introspection, flattening, validation\n2. logging - Structured pino logging (exists)\n3. discovery - Find tools from filesystem\n4. registry - Tool collection management\n5. server - MCP server lifecycle\n6. cli - Generate gunshi commands from tools\n7. opencode - OpenCode integration\n\nBuilder composes plugins: gunshiMcp().withDiscovery().withRegistry().withServer().build()","status":"open","priority":1,"issue_type":"epic","created_at":"2026-02-06T17:47:05.68198384-05:00","updated_at":"2026-02-06T17:47:05.68198384-05:00","labels":["architecture","refactor"]}
{"id":"gunshi-mcp-r2o","title":"Register prompts as MCP prompts","description":"Register discovered prompts as MCP prompts using server.registerPrompt() with appropriate arguments schema","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:21.372285916-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:21.372285916-05:00"}
{"id":"gunshi-mcp-r5s","title":"Prompt Loading System","description":"Implement a system to discover, parse, and register prompts from the project's prompts/ folder as MCP prompts.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-04T06:03:33.304930417-05:00","created_by":"rektide","updated_at":"2026-01-04T06:03:33.304930417-05:00","dependencies":[{"issue_id":"gunshi-mcp-r5s","depends_on_id":"gunshi-mcp-ikw","type":"blocks","created_at":"2026-01-04T06:05:04.499766343-05:00","created_by":"rektide"}]}
{"id":"gunshi-mcp-registry-plugin","title":"Registry Plugin - Tool Collection Management","description":"Create a registry plugin that manages the canonical tool collection with add/remove/list operations.\n\nThe registry is the central store of tools. Other plugins (server, cli, opencode) read from it. Tools come from:\n- Explicit registration via options\n- Auto-discovery from discovery plugin\n- Runtime registration via extension API","design":"Directory structure:\nsrc/registry/\n├── registry.ts    # ToolRegistry class - add/remove/list\n├── plugin.ts      # createRegistryPlugin\n└── index.ts\n\nExtension interface:\n- register(tool) → void\n- unregister(name) → boolean\n- list() → readonly GunshiTool[]\n- get(name) → GunshiTool | undefined\n- has(name) → boolean\n- count → number\n\nOptions:\n- tools?: GunshiTool[] - explicit tools to register\n- autoDiscover?: boolean - auto-register from discovery plugin\n- onConflict?: \"replace\" | \"skip\" | \"error\"","acceptance_criteria":"- [ ] ToolRegistry class with add/remove/list/get/has methods\n- [ ] RegistryExtension interface defined\n- [ ] createRegistryPlugin factory function\n- [ ] Optional dependency on discovery plugin for autoDiscover\n- [ ] Conflict handling (replace/skip/error)\n- [ ] Unit tests for registry operations\n- [ ] Plugin exports from src/index.ts","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T17:47:26.766709749-05:00","updated_at":"2026-02-07T03:49:41.288792606-05:00","closed_at":"2026-02-07T03:49:41.288792606-05:00","close_reason":"Implementation complete. Created src/registry/ with ToolRegistry class and plugin. 30 tests passing, all acceptance criteria met.","labels":["plugin","registry"]}
{"id":"gunshi-mcp-rfi","title":"Create build task with concurrently","description":"Create build script in package.json that uses concurrently to run typecheck, lint, and other build tasks in parallel","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:25:19.013370652-05:00","created_by":"rektide","updated_at":"2026-01-04T06:25:46.243903642-05:00","closed_at":"2026-01-04T06:25:46.243903642-05:00","close_reason":"Completed"}
{"id":"gunshi-mcp-rvz","title":"Enumerate and register gunshi commands as MCP tools","description":"Access gunshi command registry, iterate through registered commands, and register each as MCP tool using server.registerTool() with proper Zod schemas","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T05:53:01.533940351-05:00","created_by":"rektide","updated_at":"2026-01-04T06:06:47.484525962-05:00","closed_at":"2026-01-04T06:06:47.484525962-05:00","close_reason":"Completed","dependencies":[{"issue_id":"gunshi-mcp-rvz","depends_on_id":"gunshi-mcp-w6q","type":"blocks","created_at":"2026-01-04T05:53:06.927044548-05:00","created_by":"rektide"}]}
{"id":"gunshi-mcp-schema-plugin","title":"Schema Plugin - Shared Zod Analysis Infrastructure","description":"Create a schema plugin that provides shared Zod schema analysis infrastructure for other plugins.\n\nThe schema plugin:\n- Introspects Zod schemas to extract field information\n- Flattens nested schemas to flat keys with collision detection\n- Caches analysis results\n- Provides extension points for custom type handlers\n\nThis is foundational - CLI plugin depends on it for arg generation.","design":"Directory structure:\nsrc/schema/\n├── introspect/\n│   ├── field.ts      # Extract ZodFieldInfo from a field\n│   ├── unwrap.ts     # Unwrap optionals, defaults, etc.\n│   └── types.ts\n├── flatten/\n│   ├── flatten.ts    # Nested schema → flat fields\n│   ├── collision.ts  # Detect/report collisions\n│   └── types.ts\n├── cache.ts          # Cache analyzed schemas\n├── plugin.ts         # createSchemaPlugin\n└── index.ts\n\nExtension interface:\n- introspect(schema) → ZodFieldInfo[]\n- flatten(schema, options) → FlattenedField[]\n- analyze(schema) → SchemaAnalysis (cached)","acceptance_criteria":"- [ ] SchemaExtension interface defined with introspect, flatten, analyze methods\n- [ ] Existing cli-args/ introspect logic extracted to schema/introspect/\n- [ ] Existing cli-args/ flatten logic extracted to schema/flatten/\n- [ ] WeakMap-based caching implemented\n- [ ] createSchemaPlugin factory function working\n- [ ] Unit tests for introspection and flattening\n- [ ] Plugin exports from src/index.ts","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T17:47:16.597463415-05:00","updated_at":"2026-02-07T03:49:19.319763843-05:00","closed_at":"2026-02-07T03:49:19.319763843-05:00","close_reason":"Implementation complete. Created src/schema/ directory with introspect, flatten, cache, and plugin. 93 tests passing, all acceptance criteria met.","labels":["plugin","schema"]}
{"id":"gunshi-mcp-server-plugin","title":"Server Plugin - MCP Server Lifecycle","description":"Create a server plugin that manages McpServer lifecycle, transport configuration, and tool registration.\n\nKey insight: @modelcontextprotocol/server accepts Zod schemas directly, so we pass raw Zod - no JSON Schema conversion needed.","design":"Directory structure:\nsrc/server/\n├── server.ts      # McpServer factory, transport handling\n├── tools.ts       # Tool registration helpers\n├── plugin.ts      # createServerPlugin\n└── index.ts\n\nExtension interface:\n- server → McpServer (readonly)\n- isRunning → boolean\n- start(transport?) → Promise\u003cvoid\u003e\n- stop() → Promise\u003cvoid\u003e\n- registerTool(tool) → void\n- registerPrompt(prompt) → void\n- registerResource(resource) → void\n\nOptions:\n- name?: string\n- version?: string\n- capabilities?: Capabilities\n- transport?: \"stdio\" | \"sse\" | Transport\n- autoRegister?: boolean - auto-register from registry","acceptance_criteria":"- [ ] McpServer factory extracted from current mcp-plugin.ts\n- [ ] Transport configuration (stdio default, sse option)\n- [ ] ServerExtension interface defined\n- [ ] createServerPlugin factory function\n- [ ] Optional dependency on registry for autoRegister\n- [ ] Pass raw Zod schemas to McpServer.registerTool()\n- [ ] Unit tests for server lifecycle\n- [ ] Plugin exports from src/index.ts","notes":"Implementation complete.\n\nCreated files:\n- src/server/types.ts - ServerOptions, ServerToolRegistration, ToolHandlerExtra types\n- src/server/server.ts - ManagedMcpServer class with lifecycle management\n- src/server/tools.ts - Tool registration helpers with GunshiTool handling\n- src/server/plugin.ts - createServerPlugin factory with ServerExtension\n\nFeatures implemented:\n- McpServer factory wrapping @modelcontextprotocol/server\n- Transport configuration (stdio default, SSE placeholder)\n- Server lifecycle: start(), stop(), isRunning, server\n- Tool registration with raw Zod schemas (pass-through)\n- Optional dependency on registry plugin for autoRegister\n- CLI command 'mcp' to start server\n- Extension with: server, isRunning, start, stop, registerTool, registerTools, registerPrompt, registerResource\n\nKey design decision:\n- Pass raw Zod schemas to McpServer.registerTool() (no JSON Schema conversion)\n- ToolHandler returns CallToolResult type\n\nAll acceptance criteria met:\n- McpServer factory extracted ✓\n- Transport configuration ✓\n- ServerExtension interface defined ✓\n- createServerPlugin factory function ✓\n- Optional dependency on registry for autoRegister ✓\n- Pass raw Zod schemas ✓\n- Plugin exports from gunshi-mcp.ts ✓\n- Typecheck, lint, format, tests passing","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T17:47:35.396287732-05:00","updated_at":"2026-02-07T03:49:47.217027934-05:00","closed_at":"2026-02-07T03:49:47.217027934-05:00","close_reason":"Implementation complete. Created src/server/ with ManagedMcpServer and proper MCP typing. Typecheck, lint, format, all tests passing. All acceptance criteria met.","labels":["mcp","plugin","server"],"dependencies":[{"issue_id":"gunshi-mcp-server-plugin","depends_on_id":"gunshi-mcp-registry-plugin","type":"blocks","created_at":"2026-02-06T17:47:35.399701043-05:00","created_by":"daemon"}]}
{"id":"gunshi-mcp-t5d","title":"Initialize project structure and dependencies","description":"Set up the project structure for the gunshi MCP plugin. This includes installing required dependencies like gunshi, @modelcontextprotocol/sdk, package-directory, and necessary TypeScript types.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T05:52:30.43233178-05:00","created_by":"rektide","updated_at":"2026-01-04T06:06:47.482658181-05:00","closed_at":"2026-01-04T06:06:47.482658181-05:00","close_reason":"Completed"}
{"id":"gunshi-mcp-t9c","title":"Add request ID to logger","description":"Add request/correlation ID propagation to logger","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:40:40.045805455-05:00","updated_at":"2026-01-25T18:40:40.045805455-05:00"}
{"id":"gunshi-mcp-u8k","title":"Handle nested commands and dependencies","description":"Handle command dependencies and subcommands in tool registration process","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:15.337660894-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:15.337660894-05:00"}
{"id":"gunshi-mcp-ugh","title":"Project Setup and Foundation","description":"Set up the foundational project structure including package configuration, TypeScript setup, and build tooling for the gunshi MCP plugin.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-04T06:03:33.301984501-05:00","created_by":"rektide","updated_at":"2026-01-04T06:03:33.301984501-05:00"}
{"id":"gunshi-mcp-vbv","title":"Execute gunshi command","description":"Execute gunshi commands with proper command context, including any required extensions","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:29.952007039-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:29.952007039-05:00"}
{"id":"gunshi-mcp-vhp","title":"Configure TypeScript compiler options","description":"Setup TypeScript configuration (tsconfig.json) with proper module resolution, target, and compiler options for Node.js","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:03:44.101743179-05:00","created_by":"rektide","updated_at":"2026-01-04T06:18:39.988134153-05:00","closed_at":"2026-01-04T06:18:39.988134153-05:00","close_reason":"Completed"}
{"id":"gunshi-mcp-w6q","title":"Implement MCP server initialization","description":"Initialize MCP server using McpServer class from @modelcontextprotocol/sdk, set up stdio transport, and configure server metadata","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T05:53:01.531047242-05:00","created_by":"rektide","updated_at":"2026-01-04T06:06:47.48394935-05:00","closed_at":"2026-01-04T06:06:47.48394935-05:00","close_reason":"Completed","dependencies":[{"issue_id":"gunshi-mcp-w6q","depends_on_id":"gunshi-mcp-t5d","type":"blocks","created_at":"2026-01-04T05:53:07.025545766-05:00","created_by":"rektide"}]}
{"id":"gunshi-mcp-wro","title":"Register mcp command","description":"Add 'mcp' sub-command using ctx.addCommand() with appropriate description and run handler","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:03:56.399825819-05:00","created_by":"rektide","updated_at":"2026-01-04T07:20:51.43813233-05:00","closed_at":"2026-01-04T07:20:51.43813233-05:00","close_reason":"Registered 'mcp' command with start/stop/status actions using ctx.addCommand()"}
{"id":"gunshi-mcp-x9p","title":"Bring up pino logger plugin","description":"Implement a logger plugin using pino that provides structured logging functionality. Should integrate with gunshi's plugin system and expose logging utilities through extension API.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T08:03:57.615142739-05:00","updated_at":"2026-01-04T08:13:25.664329932-05:00","closed_at":"2026-01-04T08:13:25.664329932-05:00","close_reason":"Implemented pino logger plugin with stdio mode support, verbose/quiet/silent options, and json/pretty format support","dependencies":[{"issue_id":"gunshi-mcp-x9p","depends_on_id":"gunshi-mcp-8u5","type":"parent-child","created_at":"2026-01-04T08:04:04.394457211-05:00","created_by":"daemon"}]}
{"id":"gunshi-mcp-xo6","title":"Configure server metadata and capabilities","description":"Configure server metadata including name, version, and capabilities declaration","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:04.856055774-05:00","created_by":"rektide","updated_at":"2026-01-04T07:56:45.175794062-05:00","closed_at":"2026-01-04T07:56:45.175794062-05:00","close_reason":"Server metadata and capabilities already configured in McpServer initialization (name, version, tools, prompts)"}
{"id":"gunshi-mcp-xwu","title":"Scan prompts directory","description":"Implement file system scanning for prompts/ directory at project root, handling missing directory gracefully","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T06:04:21.370938283-05:00","created_by":"rektide","updated_at":"2026-01-04T06:04:21.370938283-05:00"}
